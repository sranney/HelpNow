<!DOCTYPE html>
<html>
<head>
	<title>Help Now</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://use.fontawesome.com/2a8a6780db.js"></script>
	<script src="https://code.jquery.com/jquery.js"></script>
	
	<style type="text/css">
		
		#form-su,#form-si,#google-su,#google-si,#facebook-su,#facebook-si{
			border-radius:7px;
			color:white;
			font-size:20px;
			display:none;
			margin:1px auto;
		}

		#facebook-su,#facebook-si{
			background-color:#385998;
		}

		#google-su,#google-si{
			background-color:#DD1812;
		}

		#form-su,#form-si{
			background-color:#454545;	
		}

		.socialButtons>button{
			display:inline;
		}

		#errorMsg-su,#errorMsg-si{
			color:red;
		} 

		#sign-up-form,#sign-in-form{
			display:none;
		}

		.instructions{
			margin:0px;
		}

		form>#email-si,form>#phoneNumber-si{
			display:none;
		}
		
	</style>

</head>
<body>
	
	<button class="btn btn-default btn-block" id="sign-up">Sign Up</button>
	<button class="btn btn-default btn-block" id="sign-in">Sign In</button>
	
	<button class="btn btn-default btn-block" id="facebook-si">
		<i class="fa fa-facebook"></i><i class="fa fa-fw"></i>Sign In with Facebook
	</button>

	<button class="btn btn-default btn-block" id="google-si">
		<i class="fa fa-google"></i><i class="fa fa-fw"></i>Sign In with Google
	</button>

	<button class="btn btn-default btn-block" id="form-si">
		<i class="fa fa-pencil"></i><i class="fa fa-fw"></i>Sign In with Email / Phone and Password
	</button>

	<button class="btn btn-default btn-block" id="facebook-su">
		<i class="fa fa-facebook"></i><i class="fa fa-fw"></i>Sign Up with Facebook
	</button>

	<button class="btn btn-default btn-block" id="google-su">
		<i class="fa fa-google"></i><i class="fa fa-fw"></i>Sign Up with Google
	</button>

	<button class="btn btn-default btn-block" id="form-su">
		<i class="fa fa-pencil"></i><i class="fa fa-fw"></i>Sign Up with Email / Phone and Password
	</button>

	<form id="sign-up-form" class="text-center">
		<p class="instructions">Please fill out all fields</p>
		<input id = "email-su" type = "text" placeholder="Email"><!--put an envelope here-->
		<input id = "phoneNumber-su" type = "text" placeholder="###-###-####"><!--put a phone here -->
		<input id = "DOB" type = "date"><!--put a calendar icon here-->
		<input id = "password-su" type = "password" placeholder="Password"><!--put a lock here-->
		<button type="button" id = "submit-su">Sign Up</button>
		<div id = "errorMsg-su"></div>
	</form>

	<form id="sign-in-form">
		<input id = "email-si" type = "text" placeholder="Email"><!--put an envelope here-->
		<input id = "password-si" type = "password" placeholder="Password"><!--put a lock here-->
		<button type="button" id = "submit-si">Sign In</button>
		<div id = "errorMsg-si"></div>
	</form>

	<script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js"></script>
	<script type="text/javascript">
		
		var config = {
			apiKey: "AIzaSyBzJ9AknkEz3TmAHLEryoXaT74nLSf9mQQ",
			authDomain: "project1-ad91c.firebaseapp.com",
			databaseURL: "https://project1-ad91c.firebaseio.com",
			projectId: "project1-ad91c",
			storageBucket: "project1-ad91c.appspot.com",
			messagingSenderId: "297815876711"
		};
		firebase.initializeApp(config);

	  	var dB = firebase.database();
	  	var Auth = firebase.auth();
	  	var cloud = firebase.storage();
	  	var provider_fb = new firebase.auth.FacebookAuthProvider();
	  	var provider_goog = new firebase.auth.GoogleAuthProvider();

	  	var user;

	  	$("#sign-in").on("click",function(){
	  		signInUp("si");
	  	})

	  	$("#sign-up").on("click",function(){
	  		signInUp("su");
	  	})

	  	function signInUp(type){
	  		var othertype = type=="su"? "si":"su";
	  		$("#sign-in").css("display","none");
	  		$("#sign-up").css("display","none");
	  		$("#facebook-"+othertype).css("display","none");
	  		$("#google-"+othertype).css("display","none");
	  		$("#form-"+othertype).css("display","none");
	  		$("#facebook-"+type).css("display","block");
	  		$("#google-"+type).css("display","block");
	  		$("#form-"+type).css("display","block");
	  	}

	  	$("#facebook-su").on("click",function(){
	  		facebookLogin();
		})

	  	$("#facebook-si").on("click",function(){
	  		facebookLogin();
		})

	  	function facebookLogin(){
		  	firebase.auth().signInWithPopup(provider_fb).then(function(result) {
			  // This gives you a Facebook Access Token. You can use it to access the Facebook API.
			  var token = result.credential.accessToken;
			  // The signed-in user info.
			  user = result.user;
			  console.log(user);
			  // ...
			  $("body").append("<p>" + user.displayName + "</p>");
			  $("body").append("<p>" + user.email + "</p>");
			}).catch(function(error) {
			  // Handle Errors here.
			  console.log(error);
			  var errorCode = error.code;
			  console.log(error);
			  var errorMessage = error.message;
			  // The email of the user's account used.
			  var email = error.email;
			  // The firebase.auth.AuthCredential type that was used.
			  var credential = error.credential;
			  // ...
			});
		}

	  	$("#google-su").on("click",function(){
	  		googleLogin();
		})

	  	$("#google-si").on("click",function(){
	  		googleLogin();
		})

	  	function googleLogin(){
			firebase.auth().signInWithPopup(provider_goog).then(function(result) {
			  // This gives you a Google Access Token. You can use it to access the Google API.
			  var token = result.credential.accessToken;
			  // The signed-in user info.
			  var user = result.user;
			  console.log(user);
			  $("body").append("<p>" + user.displayName + "</p>");
			  $("body").append("<p>" + user.email + "</p>");
			}).catch(function(error) {
			  // Handle Errors here.
			  var errorCode = error.code;
			  var errorMessage = error.message;
			  // The email of the user's account used.
			  var email = error.email;
			  // The firebase.auth.AuthCredential type that was used.
			  var credential = error.credential;
			  // ...
			});
		}


		$("#form-su").on("click",function(){
			$("#sign-up-form").css("display","block");
			$("input").css("display","block");
			$("#sign-in-form").css("display","none");
		})

		$("#form-si").on("click",function(){
			$("#form-si").prop("disabled",true);
			$("#sign-in-form").css("display","block");
			$("input").css("display","block");
			$("#sign-up-form").css("display","none");
			$("form>#email-si").css("display","none");
			$("form>#phoneNumber-si").css("display","none");
		})

		$("#LogInType").change(function(){
			if($("#LogInType").val()=="Email"){
				$("form>#email-si").css("display","block");
				$("form>#phoneNumber-si").css("display","none");
			} else if ($("#LogInType").val()=="Phone"){
				$("form>#email-si").css("display","none");
				$("form>#phoneNumber-si").css("display","block");
			}
		})

/*	glyphicon glyphicon-thumbs-up
	glyphicon glyphicon-thumbs-down
*/
	</script>
	
</body>
</html>