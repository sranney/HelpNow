<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/LeaVerou/awesomplete/gh-pages/awesomplete.css">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="rita.js"></script>
	
	<style type="text/css">
		
		input[type="email"]{
			width:1000px;
			font-size:100px;
		}


	</style>

</head>
<body>

	<input class="awesomplete" type="text" id="myInput"/>
	<button id="submitPush">Submit</button>

	<input class="awesomplete" type="email" />

	<input data-list="CSS, JavaScript, HTML, SVG, ARIA, MathML" data-multiple/>
	<script type="text/javascript" src="https://cdn.rawgit.com/LeaVerou/awesomplete/gh-pages/awesomplete.min.js"></script>
	<script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js"></script>
	<script type="text/javascript">



	  // Initialize Firebase
	  var config = {
	    apiKey: "AIzaSyD-U1NomA67PnV9gqVDSWtYjVJPdco6Jko",
	    authDomain: "languagetest-754ea.firebaseapp.com",
	    databaseURL: "https://languagetest-754ea.firebaseio.com",
	    projectId: "languagetest-754ea",
	    storageBucket: "",
	    messagingSenderId: "19886077063"
	  };
	  firebase.initializeApp(config);

	  var dB=firebase.database();

	  var input, awesomplete;

	  var listSearch = [];
	  dB.ref().on("value",function(snapshot){
	  	listSearch=snapshot.val().inputText;
	  	console.log(listSearch);
		input = document.getElementById("myInput");
		
		awesomplete = new Awesomplete(input, {
			list: listSearch
		})

	  });

	  $("#submitPush").on("click",function(){
	  	var newSearch = $("#myInput").val();

	  	$("#myInput").val("");
	  	listSearch.push(newSearch);
	  	dB.ref("/inputText").set(listSearch);
	  })


		new Awesomplete('input[type="email"]', {
			list: ["aol.com", "att.net", "comcast.net", "facebook.com", "gmail.com", "gmx.com", "googlemail.com", "google.com", "hotmail.com", "hotmail.co.uk", "mac.com", "me.com", "mail.com", "msn.com", "live.com", "sbcglobal.net", "verizon.net", "yahoo.com", "yahoo.co.uk"],
			data: function (text, input) {
				return input.slice(0, input.indexOf("@")) + "@" + text;
			},
			filter: Awesomplete.FILTER_STARTSWITH
		});

		new Awesomplete('input[data-multiple]', {
			filter: function(text, input) {
				return Awesomplete.FILTER_CONTAINS(text, input.match(/[^,]*$/)[0]);
			},

			item: function(text, input) {
				return Awesomplete.ITEM(text, input.match(/[^,]*$/)[0]);
			},

			replace: function(text) {
				var before = this.input.value.match(/^.+,\s*|/)[0];
				this.input.value = before + text + ", ";
			}
		});


	</script>

</body>
</html>